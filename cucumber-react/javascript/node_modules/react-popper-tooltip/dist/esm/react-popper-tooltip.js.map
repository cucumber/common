{"version":3,"file":"react-popper-tooltip.js","sources":["../../src/utils.ts","../../src/Tooltip.tsx","../../src/TooltipTrigger.tsx"],"sourcesContent":["import React from 'react';\nimport {Ref} from './types';\n\nexport const TooltipContext = React.createContext({});\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype Fn = (...args: any[]) => void;\ntype FnOrBool = undefined | Fn;\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const callAll = (...fns: FnOrBool[]) => (...args: any[]) =>\n  fns.forEach(fn => fn && fn(...args));\n\nexport const noop = () => {};\n\nexport const canUseDOM = () =>\n  !!(\n    typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement\n  );\n\nexport const setRef = (ref: Ref, node: HTMLElement | null) => {\n  if (typeof ref === 'function') {\n    return ref(node);\n  } else if (ref != null) {\n    ref.current = node;\n  }\n};\n","import React, {Component} from 'react';\nimport {\n  GetArrowPropsArg,\n  GetTooltipPropsArg,\n  TooltipProps,\n  TriggerTypes\n} from './types';\nimport {callAll, TooltipContext, setRef} from './utils';\n\nconst MUTATION_OBSERVER_CONFIG: MutationObserverInit = {\n  childList: true,\n  subtree: true\n};\n\nclass Tooltip extends Component<TooltipProps> {\n  public static contextType = TooltipContext;\n\n  private observer?: MutationObserver;\n  private tooltipRef!: HTMLElement | null;\n\n  public componentDidMount() {\n    const observer = (this.observer = new MutationObserver(() => {\n      this.props.scheduleUpdate();\n    }));\n    observer.observe(this.tooltipRef!, MUTATION_OBSERVER_CONFIG);\n\n    if (\n      this.isTriggeredBy('hover') ||\n      this.isTriggeredBy('click') ||\n      this.isTriggeredBy('right-click')\n    ) {\n      const {\n        removeParentOutsideClickHandler,\n        removeParentOutsideRightClickHandler\n      } = this.context;\n      this.addOutsideClickHandler();\n      this.addOutsideRightClickHandler();\n      if (removeParentOutsideClickHandler) {\n        removeParentOutsideClickHandler();\n      }\n      if (removeParentOutsideRightClickHandler) {\n        removeParentOutsideRightClickHandler();\n      }\n    }\n  }\n\n  public componentDidUpdate() {\n    if (this.props.closeOnOutOfBoundaries && this.props.outOfBoundaries) {\n      this.props.hideTooltip();\n    }\n  }\n\n  public componentWillUnmount() {\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n\n    if (\n      this.isTriggeredBy('hover') ||\n      this.isTriggeredBy('click') ||\n      this.isTriggeredBy('right-click')\n    ) {\n      const {\n        isParentNoneTriggered,\n        addParentOutsideClickHandler,\n        addParentOutsideRightClickHandler\n      } = this.context;\n      this.removeOutsideClickHandler();\n      this.removeOutsideRightClickHandler();\n      this.handleOutsideClick = undefined;\n      this.handleOutsideRightClick = undefined;\n      if (!isParentNoneTriggered && addParentOutsideClickHandler) {\n        addParentOutsideClickHandler();\n      }\n      if (!isParentNoneTriggered && addParentOutsideRightClickHandler) {\n        addParentOutsideRightClickHandler();\n      }\n    }\n  }\n\n  public render() {\n    const {arrowProps, placement, tooltip} = this.props;\n\n    return (\n      <TooltipContext.Provider value={this.contextValue}>\n        {tooltip({\n          arrowRef: arrowProps.ref,\n          getArrowProps: this.getArrowProps,\n          getTooltipProps: this.getTooltipProps,\n          placement,\n          tooltipRef: this.getTooltipRef\n        })}\n      </TooltipContext.Provider>\n    );\n  }\n\n  private isTriggeredBy(event: TriggerTypes) {\n    const {trigger} = this.props;\n    return (\n      trigger === event || (Array.isArray(trigger) && trigger.includes(event))\n    );\n  }\n\n  private handleOutsideClick?: EventListener = event => {\n    if (this.tooltipRef && !this.tooltipRef.contains(event.target as Node)) {\n      const {parentOutsideClickHandler} = this.context;\n      const {hideTooltip, clearScheduled} = this.props;\n\n      clearScheduled();\n      hideTooltip();\n      if (parentOutsideClickHandler) {\n        parentOutsideClickHandler(event);\n      }\n    }\n  };\n\n  private handleOutsideRightClick?: EventListener = event => {\n    if (this.tooltipRef && !this.tooltipRef.contains(event.target as Node)) {\n      const {parentOutsideRightClickHandler} = this.context;\n      const {hideTooltip, clearScheduled} = this.props;\n\n      clearScheduled();\n      hideTooltip();\n      if (parentOutsideRightClickHandler) {\n        parentOutsideRightClickHandler(event);\n      }\n    }\n  };\n\n  private addOutsideClickHandler = () => {\n    document.body.addEventListener('touchend', this.handleOutsideClick!);\n    document.body.addEventListener('click', this.handleOutsideClick!);\n  };\n\n  private removeOutsideClickHandler = () => {\n    document.body.removeEventListener('touchend', this.handleOutsideClick!);\n    document.body.removeEventListener('click', this.handleOutsideClick!);\n  };\n\n  private addOutsideRightClickHandler = () =>\n    document.body.addEventListener(\n      'contextmenu',\n      this.handleOutsideRightClick!\n    );\n\n  private removeOutsideRightClickHandler = () =>\n    document.body.removeEventListener(\n      'contextmenu',\n      this.handleOutsideRightClick!\n    );\n\n  private getTooltipRef = (node: HTMLElement | null) => {\n    this.tooltipRef = node;\n    setRef(this.props.innerRef, node);\n  };\n\n  private getArrowProps = (props: GetArrowPropsArg = {}) => ({\n    ...props,\n    style: {...props.style, ...this.props.arrowProps.style}\n  });\n\n  private getTooltipProps = (props: GetTooltipPropsArg = {}) => ({\n    ...props,\n    ...(this.isTriggeredBy('hover') && {\n      onMouseEnter: callAll(this.props.clearScheduled, props.onMouseEnter),\n      onMouseLeave: callAll(this.props.hideTooltip, props.onMouseLeave)\n    }),\n    style: {...props.style, ...this.props.style}\n  });\n\n  private contextValue = {\n    isParentNoneTriggered: this.props.trigger === 'none',\n    addParentOutsideClickHandler: this.addOutsideClickHandler,\n    addParentOutsideRightClickHandler: this.addOutsideRightClickHandler,\n    parentOutsideClickHandler: this.handleOutsideClick,\n    parentOutsideRightClickHandler: this.handleOutsideRightClick,\n    removeParentOutsideClickHandler: this.removeOutsideClickHandler,\n    removeParentOutsideRightClickHandler: this.removeOutsideRightClickHandler\n  };\n}\n\nexport default Tooltip;\n","/**\n * @author Mohsin Ul Haq <mohsinulhaq01@gmail.com>\n */\nimport PopperJS from 'popper.js';\nimport React, {Component} from 'react';\nimport {createPortal} from 'react-dom';\nimport {Manager, Popper, Reference} from 'react-popper';\nimport Tooltip from './Tooltip';\nimport {\n  GetTriggerPropsArg,\n  TooltipTriggerProps,\n  TooltipTriggerState,\n  TriggerTypes\n} from './types';\nimport {callAll, canUseDOM, noop} from './utils';\n\nconst DEFAULT_MODIFIERS: PopperJS.Modifiers = {\n  preventOverflow: {\n    boundariesElement: 'viewport'\n  }\n};\n\nclass TooltipTrigger extends Component<\n  TooltipTriggerProps,\n  TooltipTriggerState\n> {\n  public static defaultProps = {\n    closeOnOutOfBoundaries: true,\n    defaultTooltipShown: false,\n    delayHide: 0,\n    delayShow: 0,\n    followCursor: false,\n    onVisibilityChange: noop,\n    placement: 'right',\n    portalContainer: canUseDOM() ? document.body : null,\n    trigger: 'hover',\n    usePortal: canUseDOM()\n  };\n\n  public state: TooltipTriggerState = {\n    tooltipShown: this.props.defaultTooltipShown\n  };\n\n  private hideTimeout?: number;\n  private showTimeout?: number;\n  private popperOffset?: PopperJS.Offset;\n\n  public componentWillUnmount() {\n    this.clearScheduled();\n  }\n\n  public render() {\n    const {\n      children,\n      tooltip,\n      placement,\n      trigger,\n      getTriggerRef,\n      modifiers,\n      closeOnOutOfBoundaries,\n      usePortal,\n      portalContainer,\n      followCursor,\n      getTooltipRef,\n      ...restProps\n    } = this.props;\n\n    const popper = (\n      <Popper\n        innerRef={getTooltipRef}\n        placement={placement}\n        modifiers={{\n          ...DEFAULT_MODIFIERS,\n          ...(followCursor && {\n            followCursorModifier: {\n              enabled: true,\n              fn: data => {\n                this.popperOffset = data.offsets.popper;\n                return data;\n              },\n              order: 1000\n            }\n          }),\n          ...modifiers\n        }}\n        {...restProps}\n      >\n        {({\n          ref,\n          style,\n          // tslint:disable-next-line\n          placement,\n          arrowProps,\n          outOfBoundaries,\n          scheduleUpdate\n        }) => {\n          if (followCursor && this.popperOffset) {\n            const {pageX, pageY} = this.state;\n            const {width, height} = this.popperOffset;\n            const x =\n              pageX! + width > window.scrollX + document.body.offsetWidth\n                ? pageX! - width\n                : pageX;\n            const y =\n              pageY! + height > window.scrollY + document.body.offsetHeight\n                ? pageY! - height\n                : pageY;\n            style.transform = `translate3d(${x}px, ${y}px, 0`;\n          }\n\n          return (\n            <Tooltip\n              {...{\n                arrowProps,\n                closeOnOutOfBoundaries,\n                outOfBoundaries,\n                placement,\n                scheduleUpdate,\n                style,\n                tooltip,\n                trigger\n              }}\n              clearScheduled={this.clearScheduled}\n              hideTooltip={this.hideTooltip}\n              innerRef={ref}\n            />\n          );\n        }}\n      </Popper>\n    );\n\n    return (\n      <Manager>\n        <Reference innerRef={getTriggerRef}>\n          {({ref}) =>\n            children({getTriggerProps: this.getTriggerProps, triggerRef: ref})\n          }\n        </Reference>\n        {this.getState() &&\n          (usePortal ? createPortal(popper, portalContainer) : popper)}\n      </Manager>\n    );\n  }\n\n  private isControlled() {\n    return this.props.tooltipShown !== undefined;\n  }\n\n  private getState() {\n    return this.isControlled()\n      ? this.props.tooltipShown\n      : this.state.tooltipShown;\n  }\n\n  private setTooltipState = (state: TooltipTriggerState) => {\n    const cb = () => this.props.onVisibilityChange(state.tooltipShown);\n    this.isControlled() ? cb() : this.setState(state, cb);\n  };\n\n  private clearScheduled = () => {\n    clearTimeout(this.hideTimeout);\n    clearTimeout(this.showTimeout);\n  };\n\n  private showTooltip = ({pageX, pageY}: {pageX: number; pageY: number}) => {\n    this.clearScheduled();\n    let state: TooltipTriggerState = {\n      tooltipShown: true\n    };\n    if (this.props.followCursor) {\n      state = {\n        ...state,\n        pageX,\n        pageY\n      };\n    }\n    this.showTimeout = window.setTimeout(\n      () => this.setTooltipState(state),\n      this.props.delayShow\n    );\n  };\n\n  private hideTooltip = () => {\n    this.clearScheduled();\n    this.hideTimeout = window.setTimeout(\n      () => this.setTooltipState({tooltipShown: false}),\n      this.props.delayHide\n    );\n  };\n\n  private toggleTooltip = ({pageX, pageY}: {pageX: number; pageY: number}) => {\n    const action = this.getState() ? 'hideTooltip' : 'showTooltip';\n    this[action]({pageX, pageY});\n  };\n\n  private clickToggle: React.MouseEventHandler = (event: React.MouseEvent) => {\n    event.preventDefault();\n    const {pageX, pageY} = event;\n    const action = this.props.followCursor ? 'showTooltip' : 'toggleTooltip';\n    this[action]({pageX, pageY});\n  };\n\n  private contextMenuToggle: React.MouseEventHandler = event => {\n    event.preventDefault();\n    const {pageX, pageY} = event;\n    const action = this.props.followCursor ? 'showTooltip' : 'toggleTooltip';\n    this[action]({pageX, pageY});\n  };\n\n  private isTriggeredBy(event: TriggerTypes) {\n    const {trigger} = this.props;\n    return (\n      trigger === event || (Array.isArray(trigger) && trigger.includes(event))\n    );\n  }\n\n  private getTriggerProps = (props: GetTriggerPropsArg = {}) => {\n    return {\n      ...props,\n      ...(this.isTriggeredBy('click') && {\n        onClick: callAll(this.clickToggle, props.onClick),\n        onTouchEnd: callAll(this.clickToggle, props.onTouchEnd)\n      }),\n      ...(this.isTriggeredBy('right-click') && {\n        onContextMenu: callAll(this.contextMenuToggle, props.onContextMenu)\n      }),\n      ...(this.isTriggeredBy('hover') && {\n        onMouseEnter: callAll(this.showTooltip, props.onMouseEnter),\n        onMouseLeave: callAll(this.hideTooltip, props.onMouseLeave),\n        ...(this.props.followCursor && {\n          onMouseMove: callAll(this.showTooltip, props.onMouseMove)\n        })\n      }),\n      ...(this.isTriggeredBy('focus') && {\n        onFocus: callAll(this.showTooltip, props.onFocus),\n        onBlur: callAll(this.hideTooltip, props.onBlur)\n      })\n    };\n  };\n}\n\nexport default TooltipTrigger;\n"],"names":["TooltipContext","React","createContext","callAll","fns","args","forEach","fn","noop","canUseDOM","window","document","createElement","setRef","ref","node","current","MUTATION_OBSERVER_CONFIG","childList","subtree","Tooltip","observer","tooltipRef","handleOutsideClick","event","contains","target","parentOutsideClickHandler","context","props","hideTooltip","clearScheduled","handleOutsideRightClick","parentOutsideRightClickHandler","addOutsideClickHandler","body","addEventListener","removeOutsideClickHandler","removeEventListener","addOutsideRightClickHandler","removeOutsideRightClickHandler","getTooltipRef","innerRef","getArrowProps","style","arrowProps","getTooltipProps","isTriggeredBy","onMouseEnter","onMouseLeave","contextValue","isParentNoneTriggered","trigger","addParentOutsideClickHandler","addParentOutsideRightClickHandler","removeParentOutsideClickHandler","removeParentOutsideRightClickHandler","componentDidMount","MutationObserver","scheduleUpdate","observe","componentDidUpdate","closeOnOutOfBoundaries","outOfBoundaries","componentWillUnmount","disconnect","undefined","render","placement","tooltip","arrowRef","Array","isArray","includes","Component","contextType","DEFAULT_MODIFIERS","preventOverflow","boundariesElement","TooltipTrigger","state","tooltipShown","defaultTooltipShown","hideTimeout","showTimeout","popperOffset","setTooltipState","cb","onVisibilityChange","isControlled","setState","clearTimeout","showTooltip","pageX","pageY","followCursor","setTimeout","delayShow","delayHide","toggleTooltip","action","getState","clickToggle","preventDefault","contextMenuToggle","getTriggerProps","onClick","onTouchEnd","onContextMenu","onMouseMove","onFocus","onBlur","children","getTriggerRef","modifiers","usePortal","portalContainer","restProps","popper","followCursorModifier","enabled","data","offsets","order","width","height","x","scrollX","offsetWidth","y","scrollY","offsetHeight","transform","triggerRef","createPortal","defaultProps"],"mappings":"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"}